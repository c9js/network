```
–•–æ—Ä–æ—à–æ –≤–æ—Ç –∫–∞–∫ —è –≤–∏–∂—É –∫–∞—Ä—Ç–∏–Ω—É
–£ –Ω–∞—Å –µ—Å—Ç—å
1. –°–æ–æ–±—â–µ–Ω–∏–µ

–æ–Ω–æ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞
2. –§—Ä–∞–≥–º–µ–Ω—Ç—ã

–∫–æ—Ç–æ—Ä—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è –≤
3. –ü–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É

–∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç—å—é
4. –ü–∞–∫–µ—Ç–∞

–∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑
5. ID-–ø–∞–∫–µ—Ç–∞
6. –•—ç—à-—Å—É–º–º—ã
7. –î–ª–∏–Ω—ã –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
3. –ò –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

–ò —Ç–æ–≥–æ —É –Ω–∞—Å 7 —Ç–µ—Ä–º–∏–Ω–æ–≤:
1. Message ‚Äî –°–æ–æ–±—â–µ–Ω–∏–µ
2. Fragment ‚Äî –§—Ä–∞–≥–º–µ–Ω—Ç
3. Payload ‚Äî –ü–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
4. Packet ‚Äî –ü–∞–∫–µ—Ç
5. PacketId ‚Äî ID-–ø–∞–∫–µ—Ç–∞
6. Hash ‚Äî –•—ç—à-—Å—É–º–º–∞
7. PayloadLength ‚Äî –î–ª–∏–Ω–∞ –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏






–ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–∑
Network
–≤
Channel
—Ç–∏–ø–∞ "–∫–∞–Ω–∞–ª–∞ —Å–≤—è–∑–∏",
–∞ –Ω–µ "—Å–µ—Ç—å"

–¢–∞–∫ –∂–µ –º–æ–∂–µ—Ç —É –Ω–∞—Å —Ç—É—Ç –Ω–µ
test
–∞ —á—Ç–æ —Ç–æ —Ç–∏–ø–∞
API
```
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- PacketManager ‚Äî –≠—Ç–æ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—á–µ—Ä–µ–¥—å—é, –æ—Ç–ø—Ä–∞–≤–∫–æ–π/–ø–æ–ª—É—á–µ–Ω–∏–µ–º, —Å–±–æ—Ä–∫–æ–π –ø–∞–∫–µ—Ç–æ–≤ –≤ –∏—Å—Ö–æ–¥–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
- MessageManager ‚Äî –≠—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.
- –°ryptoBuffer ‚Äî –≠—Ç–æ –∫—Ä–∏–ø—Ç–æ–±—É—Ñ–µ—Ä –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞.

### 1. **PacketManager** | –ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä

- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
  - –£–ø—Ä–∞–≤–ª—è–µ—Ç –æ—á–µ—Ä–µ–¥—å—é –ø–∞–∫–µ—Ç–æ–≤ (–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –∏ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ).
  - –î–µ–ª–∏—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –ø–∞–∫–µ—Ç—ã –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –ø–∞–∫–µ—Ç—ã –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏—Å—Ö–æ–¥–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
  - –†–∞–±–æ—Ç–∞–µ—Ç —Å CryptoBuffer –¥–ª—è —É–ø–∞–∫–æ–≤–∫–∏/—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤.

- **–ó–∞–¥–∞—á–∞:** –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–∞–∫–µ—Ç—ã –∏ –æ–±—Ä–∞—Ç–Ω–æ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å.

- **–í–æ–∑–º–æ–∂–Ω–æ–µ API:**
  - `addMessage(message)` ‚Äî —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –ø–∞–∫–µ—Ç—ã –∏ –∫–ª–∞–¥—ë—Ç –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É.
  - `addPacket(packet)` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–∏—à–µ–¥—à–∏–π –ø–∞–∫–µ—Ç –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Å–±–æ—Ä–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è.
  - –°–æ–±—ã—Ç–∏—è: `'messageComplete'` ‚Äî –∫–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ.

---

### 2. **MessageManager** | –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π

- **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
  - –£–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–∫–æ–π —Ä–∞–±–æ—Ç—ã —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –Ω–∞ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ.
  - –ú–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –ª–æ–≥–∏–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π, —Ç–∞–π–º–∞—É—Ç–æ–≤.
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

---

### 3. **CryptoBuffer** | –ö—Ä–∏–ø—Ç–æ–±—É—Ñ–µ—Ä

- **–û—Ç–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –ø–∞–∫–µ—Ç–∞.
  - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ.
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID, —Ö—ç—à-—Å—É–º–º –∏ –ø—Ä–æ—á–∏—Ö –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–∞–∫–µ—Ç–∞.

- **–ü—Ä–∏–º–µ—Ä:** ¬´–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π¬ª –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –ø–∞–∫–µ—Ç –∏ –∫–∞–∫ —Å –Ω–∏–º —Ä–∞–±–æ—Ç–∞—Ç—å.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
protocol/
‚îú‚îÄ‚îÄ index.js                 # –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç Scanner –∏ Sender
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ scanner/             # –ü—Ä–∏–µ–º–Ω–∏–∫ –ø–∞–∫–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scanner.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ worker.js
‚îÇ   ‚îú‚îÄ‚îÄ sender/              # –ü–µ—Ä–µ–¥–∞—Ç—á–∏–∫ –ø–∞–∫–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sender.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ worker.js
‚îÇ   ‚îú‚îÄ‚îÄ utils.js             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ addon/               # –ò—Å—Ö–æ–¥–Ω–∏–∫ C-–∞–¥–¥–æ–Ω–∞
‚îÇ       ‚îî‚îÄ‚îÄ l2raw.c
‚îî‚îÄ‚îÄ test/
    ‚îú‚îÄ‚îÄ scan.js              # –ü—Ä–∏–º–µ—Ä –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤
    ‚îú‚îÄ‚îÄ scan-mac-filter.js   # –ü—Ä–∏–º–µ—Ä –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ MAC-–∞–¥—Ä–µ—Å—É
    ‚îî‚îÄ‚îÄ send.js              # –ü—Ä–∏–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
